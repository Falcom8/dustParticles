(function(e){e.fn.extend({dustParticles:function(t,n){return this.each(function(){function l(){this.speed={x:Math.random()*3-.5,y:Math.random()*3-.5};this.radius=Math.random()*(10-1)+1;console.log(this.radius);this.opacity=n/this.radius;this.r=255;this.g=255;this.b=255;this.x=Math.random()*(s.width-0)+0;this.y=Math.random()*(s.height-0)+0;this.color=this.color="rgba("+this.r+", "+this.g+", "+this.b+", "+this.opacity+")"}function c(){o.clearRect(0,0,s.width,s.height);u.forEach(function(e,t){o.beginPath();var n=o.createRadialGradient(e.x,e.y,0,e.x,e.y,e.radius);n.addColorStop(1,"rgba("+e.r+", "+e.g+", "+e.b+", 0)");n.addColorStop(.5,"rgba("+e.r+", "+e.g+", "+e.b+", "+e.opacity/2+")");n.addColorStop(0,"rgba("+e.r+", "+e.g+", "+e.b+", "+e.opacity+")");o.fillStyle=n;o.arc(e.x,e.y,e.radius,0,Math.PI*2,true);o.fill();e.x+=e.speed.x;e.y+=e.speed.y;if(e.x<-50)e.x=s.width+50;if(e.y<-50)e.y=s.height+50;if(e.x>s.width+50)e.x=-50;if(e.y>s.height+50)e.y=-50})}var r=e(this).width();var i=e(this).height();var s=document.createElement("canvas");s.id="canvas";document.body.appendChild(s);var o=s.getContext("2d");s.width=r;s.height=i;var u=[];var a=t;for(var f=0;f<a;f++){u.push(new l)}setInterval(c,33)})}})})(jQuery)